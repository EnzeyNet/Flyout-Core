EnzeyNet||(EnzeyNet={}),EnzeyNet.applyFunctions=function(a,b){for(var c in b.prototype)"function"==typeof b.prototype[c]&&(a[c]=b.prototype[c])},EnzeyNet.FlyoutServices=function(){},function(a){a.getParentPositioning=function(){return{attributes:[],classes:["flyout-against"]}},a.findParentToPositionAgainst=function(){var a,b=this,c=b.getParentPositioning();if(c.attributes){var d=c.attributes.slice(0);d.map(function(a){return"data-"+a}).forEach(function(a){c.attributes.push(a)})}for(var e=b.parentElement;e&&!a;)c.classes instanceof Array&&c.classes.forEach(function(b){a||e.classList.contains(b)&&(a=e)}),c.attributes instanceof Array&&c.attributes.forEach(function(b){a||e.attributes[b]&&(a=e)}),e=e.parentElement;return a||(a=b.parentElement),a},a.createdCallback=function(){var a=this.getAttribute("id");a||(a=Date.now(),this.setAttribute("id",a)),this.flyoutTempalte=this.innerHTML,console.log(this.flyoutTempalte),this.innerHTML="",this.displayFlyout=this.displayFlyout.bind(this)},a.attachedCallback=function(){if(this.flyoutParent=this.parentElement,"BUTTON"===this.flyoutParent.nodeName.toUpperCase())throw"Parent of the flyout cannot be a button element.";this.flyoutParent.setAttribute("flyout-id",this.getAttribute("id")),this.attributeChangedCallback("flyout-on",null,this.getAttribute("flyout-on"))},a.detachedCallback=function(){this.flyoutParent.removeAttribute("flyout-id"),console.log("detachedCallback"),console.log(this.parentElement),console.log(this.flyoutParent),this.attributeChangedCallback("flyout-on",this.getAttribute("flyout-on"),null)},a.attributeChangedCallback=function(a,b,c){"flyout-on"===a&&this.bindFlyoutAction(c,b)},a.bindFlyoutAction=function(a,b){var c=this;"string"==typeof b&&(b=b.split(" "),b.forEach(function(a){c.flyoutParent.removeEventListener(a.trim(),c.displayFlyout)})),"string"==typeof a&&(a=a.split(" "),a.forEach(function(a){c.flyoutParent.addEventListener(a.trim(),c.displayFlyout)}))},a.displayFlyout=function(a){var b=this.findParentToPositionAgainst(),c=this;if(!c.flyoutContainer){c.flyoutContainer=document.createElement("div"),c.flyoutContainer.innerHTML=c.flyoutTempalte,EnzeyNet.Services.registerClickAwayAction(function(a){c.flyoutContainer.parentElement.removeChild(c.flyoutContainer),c.flyoutContainer=null},c.flyoutContainer,c.flyoutParent);var d=document.createElement("iframe");d.classList.add("shim"),EnzeyNet.Services.prepend(c.flyoutContainer,d),b.appendChild(c.flyoutContainer)}this.positionFlyout(c.flyoutContainer)},a.positionFlyout=function(a){var b=this.getAttribute("align-my"),c=this.getAttribute("align-to");if(c&&b){var d=b.split(" ");if(2!==d.length)return;var e=d[0],f=d[1],g=c.split(" ");if(2!==g.length)return;var h=g[0],i=g[1],j=a.parentElement,k=window.getComputedStyle(j);"static"===k.position&&(j.style.position="relative"),a.style.overflow="visible",a.style.position="absolute",a.style.transform="",a.classList.add("flyout-align-my-"+e+"-"+f+"-to-"+h+"-"+i)}}}(EnzeyNet.FlyoutServices.prototype);